// add arch_switch_context(thread_t from, thread_t to)
// add STACK_SIZE, STACK_WARN, and get_cur_thread?
